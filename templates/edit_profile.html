{% extends "base.html" %}

{% block title %}Edit Profile{% endblock %}

{% block content %}
<div class="container py-4">
    <h1 class="page-title">Edit Your Profile</h1>

    <div class="post-card">
        <form method="POST" action="{{ url_for('edit_profile') }}" enctype="multipart/form-data">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

            <div class="mb-3 text-center">
                <label class="form-label fw-bold">Current Profile Image</label>
                <img src="{{ user.profile_image if user.profile_image else url_for('static', filename='default-profile.png') }}"
                     alt="Current Image" class="profile-image-medium mb-3">
                <p class="text-muted">Upload a new image to replace the current one.</p>
            </div>

            <div class="mb-3">
                <label for="image" class="form-label fw-bold">New Profile Image (Max 400x400)</label>
                <input type="file" class="form-control" id="image" name="image" accept="image/*">
            </div>

            <div class="mb-4">
                <label for="bio" class="form-label fw-bold">Bio</label>
                <textarea class="form-control" id="bio" name="bio" rows="4" maxlength="255"
                          placeholder="Tell everyone what makes you smile today.">{{ user.bio }}</textarea>
            </div>

            <button type="submit" class="btn btn-primary w-100">Save Changes</button>
        </form>
    </div>
</div>
{% endblock %}